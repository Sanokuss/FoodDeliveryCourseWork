@model IEnumerable<Product>

<div class="product-grid">
    @if (Model != null && Model.Any())
    {
        @foreach (var product in Model)
        {
            <div class="food-card">
                <div class="food-img-wrapper">
                    <img src="@product.ImageUrl" alt="@product.Name" class="food-img" loading="lazy">
                </div>
                <h4 class="food-title">@product.Name</h4>
                @if (product.Restaurant != null)
                {
                    <p class="restaurant-badge">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        </svg>
                        @product.Restaurant.Name
                    </p>
                }
                <p class="food-desc">@product.Description</p>
                <div class="food-footer">
                    <div class="food-price"><span>$</span>@product.Price.ToString("0.00")</div>
                    
                    <form asp-controller="Cart" asp-action="AddToCart" method="post" class="add-to-cart-form">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="productId" value="@product.Id" />
                        <input type="hidden" name="quantity" value="1" />
                        <button type="submit" class="btn-add">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        </button>
                    </form>
                </div>
            </div>
        }
    }
    else
    {
        <div class="col-12 text-center text-muted">
            <p>Товарів не знайдено</p>
        </div>
    }
</div>
