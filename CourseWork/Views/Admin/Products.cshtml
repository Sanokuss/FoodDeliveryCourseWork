@model IEnumerable<Product>
@{
    ViewData["Title"] = "–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏";
}

@section Styles {
    <!-- No extra css needed -->
}

<div class="container fade-in py-5">
    <div class="glass-card mb-4 d-flex justify-content-between align-items-center">
        <h1 class="m-0" style="font-size: 1.8rem;">–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏</h1>
        <a asp-action="CreateProduct" class="btn btn-primary rounded-pill px-4">+ –î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä</a>
    </div>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert" style="border-radius: 12px;">
            @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    <div class="glass-card p-0 overflow-hidden">
        <div class="table-responsive">
            <table class="table table-dark table-hover mb-0" style="--bs-table-bg: transparent;">
                <thead style="background: rgba(255,255,255,0.05);">
                    <tr>
                        <th class="p-3 border-bottom border-secondary">ID</th>
                        <th class="p-3 border-bottom border-secondary">–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è</th>
                        <th class="p-3 border-bottom border-secondary">–ù–∞–∑–≤–∞</th>
                        <th class="p-3 border-bottom border-secondary">–û–ø–∏—Å</th>
                        <th class="p-3 border-bottom border-secondary">–¶—ñ–Ω–∞</th>
                        <th class="p-3 border-bottom border-secondary">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                        <th class="p-3 border-bottom border-secondary">–ú—ñ—Ç–∫–∏</th>
                        <th class="p-3 border-bottom border-secondary">–î—ñ—ó</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var product in Model)
                    {
                        <tr>
                            <td class="p-3 align-middle">@product.Id</td>
                            <td class="p-3 align-middle"><img src="@product.ImageUrl" alt="@product.Name" style="width: 50px; height: 50px; object-fit: cover; border-radius: 8px;" class="shadow-sm"></td>
                            <td class="p-3 align-middle fw-bold">@product.Name</td>
                            <td class="p-3 align-middle small">@(product.Description.Length > 50 ? product.Description.Substring(0, 50) + "..." : product.Description)</td>
                            <td class="p-3 align-middle text-primary fw-bold">@product.Price.ToString("0.00") ‚Ç¥</td>
                            <td class="p-3 align-middle"><span class="badge bg-secondary rounded-pill">@product.Category?.Name</span></td>
                            <td class="p-3 align-middle">
                                @if (product.IsNew)
                                {
                                    <span class="badge bg-info text-dark rounded-pill me-1">New</span>
                                }
                                @if (product.IsBestSeller)
                                {
                                    <span class="badge bg-warning text-dark rounded-pill">Hit</span>
                                }
                            </td>
                            <td class="p-3 align-middle">
                                <a asp-action="EditProduct" asp-route-id="@product.Id" class="btn btn-sm btn-outline-warning rounded-pill me-1">‚úèÔ∏è</a>
                                <form asp-action="DeleteProduct" asp-route-id="@product.Id" method="post" class="d-inline" onsubmit="return confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ?');">
                                    <button type="submit" class="btn btn-sm btn-outline-danger rounded-pill">üóëÔ∏è</button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

